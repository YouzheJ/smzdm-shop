webpackJsonp([2],{522:function(e,t,n){"use strict";function r(e){n(566)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(557),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);var s=n(570),u=n(135),l=r,c=u(a.a,s.a,!1,l,"data-v-7b4c67cc",null);t.default=c.exports},529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(530),o=n(135),a=o(null,r.a,!1,null,null,null);t.default=a.exports},530:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"dark","default-active":e.$route.path,mode:"horizontal",router:!0}},[n("el-menu-item",{attrs:{index:"/"}},[e._v("什么值得买")]),e._v(" "),n("el-menu-item",{attrs:{index:"/admin/categories"}},[e._v("分类管理")]),e._v(" "),n("el-menu-item",{attrs:{index:"/admin/tags"}},[e._v("标签管理")]),e._v(" "),n("el-menu-item",{attrs:{index:"/admin/products"}},[e._v("商品管理")]),e._v(" "),n("el-menu-item",{attrs:{index:"/admin/users"}},[e._v("用户管理")])],1),e._v(" "),e._t("body")],2)},o=[],a={render:r,staticRenderFns:o};t.a=a},557:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(529),i=r(a),s=n(568),u=r(s),l=n(136);t.default={components:{"layout-component":i.default,"form-component":u.default},data:function(){return{tags:[],page:{limit:10,total:0,page:1,pages:1},showAddDialog:!1,addForm:{name:""},showRemoveDialog:!1,removeForm:{}}},head:{title:{inner:"标签管理"}},methods:{getTags:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.fetch.get(l.tag.findByPage(t));case 2:r=n.sent,o=r.data.tags,e.tags=o.docs,e.page={limit:o.limit,total:o.total,page:o.page,pages:o.pages};case 6:case"end":return n.stop()}},n,e)}))()},add:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.fetch.post(l.tag.add,e.addForm);case 2:return n=t.sent,r=n.data.ok?"success":"error",t.next=6,e.getTags();case 6:e.addForm.name="",e.showAddDialog=!1,e.$message({message:n.data.msg,type:r});case 9:case"end":return t.stop()}},t,e)}))()},remove:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.fetch.post(l.tag.remove,e.removeForm);case 2:return n=t.sent,r=n.data.ok?"success":"error",t.next=6,e.getTags();case 6:e.showRemoveDialog=!1,e.$message({message:n.data.msg,type:r});case 8:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.getTags()}}},558:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:String,showDialog:Boolean,model:Object},data:function(){return{formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},computed:{form:function(){return this.model}},methods:{hide:function(){this.$emit("hide")},confirm:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validate();case 2:n=t.sent,n&&e.$emit("confirm");case 4:case"end":return t.stop()}},t,e)}))()},validate:function(){var e=this;return new Promise(function(t,n){e.$refs.form.validate(function(e){e?t(!0):n(!1)})})}}}},566:function(e,t,n){var r=n(567);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(520)("53aeece8",r,!0,{})},567:function(e,t,n){t=e.exports=n(202)(!1),t.push([e.i,".add-btn[data-v-7b4c67cc]{margin:10px}",""])},568:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(558),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);var i=n(569),s=n(135),u=s(o.a,i.a,!1,null,null,null);t.default=u.exports},569:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,visible:e.showDialog,"before-close":e.hide},on:{"update:visible":function(t){e.showDialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{label:"标签名称","label-width":e.formLabelWidth,prop:"name"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.hide}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},o=[],a={render:r,staticRenderFns:o};t.a=a},570:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-component",[n("div",{attrs:{slot:"body"},slot:"body"},[n("el-button",{staticClass:"add-btn",attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.showAddDialog=!0}}},[e._v("添加标签")]),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tags}},[n("el-table-column",{attrs:{prop:"name",label:"名称",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"prettyCreatedAt",label:"添加时间",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){e.showRemoveDialog=!0,e.removeForm=t.row}}},[e._v("\n                        删除\n                    ")])]}}])})],1),e._v(" "),n("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.page.limit,total:e.page.total,"current-page":e.page.page},on:{"current-change":e.getTags}}),e._v(" "),n("form-component",{attrs:{title:"添加标签",showDialog:e.showAddDialog,model:e.addForm},on:{confirm:e.add,hide:function(t){e.showAddDialog=!1}}}),e._v(" "),n("el-dialog",{attrs:{title:"删除标签",visible:e.showRemoveDialog},on:{"update:visible":function(t){e.showRemoveDialog=t}}},[n("el-alert",{attrs:{title:"确定删除标签："+e.removeForm.name+"？",type:"error",closable:!1}}),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showRemoveDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.remove}},[e._v("确 定")])],1)],1)],1)])},o=[],a={render:r,staticRenderFns:o};t.a=a}});
//# sourceMappingURL=2.js.map