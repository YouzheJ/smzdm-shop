{"version":3,"sources":["webpack:///6.js","webpack:///./src/client/pages/admin/product.vue","webpack:///./src/client/components/admin/layout.vue","webpack:///./src/client/components/admin/layout.vue?ec43","webpack:///src/client/pages/admin/product.vue","webpack:///src/client/pages/admin/forms/product.vue","webpack:///./src/client/pages/admin/product.vue?4ea4","webpack:///./src/client/pages/admin/product.vue?c852","webpack:///./src/client/pages/admin/forms/product.vue","webpack:///./src/client/pages/admin/forms/product.vue?7dec","webpack:///./src/client/pages/admin/forms/product.vue?2524","webpack:///./src/client/pages/admin/forms/product.vue?f26f","webpack:///./src/client/pages/admin/product.vue?baae"],"names":["webpackJsonp","527","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_37e83c65_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__","normalizeComponent","__vue_styles__","Component","a","578","__WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_68e1c824_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_layout_vue__","579","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","theme","default-active","$route","path","mode","router","index","_v","_t","staticRenderFns","esExports","584","exports","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","arg","info","error","done","then","err","_layout","_layout2","_product","_product2","_api","components","layout-component","form-component","data","cates","products","page","limit","total","pages","showAddDialog","addForm","name","category","price","tags","showEditDialog","editForm","showRemoveDialog","removeForm","showDetailsDialog","detailsForm","head","title","inner","methods","getCates","_this","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","fetch","get","findAll","sent","stop","getProducts","_this2","length","undefined","_callee2","_context2","product","findByPage","docs","addTag","_this3","_callee3","_context3","post","tag","add","abrupt","form","_this4","_callee4","type","arr","_context4","ok","map","all","$message","message","msg","edit","_this5","_callee5","_context5","remove","_this6","_callee6","_context6","mounted","585","_toConsumableArray","Array","isArray","i","arr2","from","props","String","showDialog","Boolean","model","Number","img","link","formLabelWidth","newTag","rules","required","trigger","computed","categories","concat","hide","$emit","validate","$refs","valid","confirm","push","removeTag","splice","602","content","locals","603","604","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22712534_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__","605","606","607","visible","before-close","on","update:visible","$event","ref","label","label-width","prop","auto-complete","callback","$$v","$set","expression","value-key","_l","cate","_id","_n","nativeOn","keyup","_k","keyCode","closable","close","_s","slot","click","608","icon","staticStyle","width","scopedSlots","_u","scope","height","src","row","size","color","href","target","layout","page-size","current-page","current-change","rows","placeholder"],"mappings":"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","file":"6.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 527:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__ = __webpack_require__(584);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_37e83c65_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__ = __webpack_require__(608);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(602)\n}\nvar normalizeComponent = __webpack_require__(135)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37e83c65\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_37e83c65_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 578:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_68e1c824_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_layout_vue__ = __webpack_require__(579);\nvar normalizeComponent = __webpack_require__(135)\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_68e1c824_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_layout_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 579:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"theme\":\"dark\",\"default-active\":_vm.$route.path,\"mode\":\"horizontal\",\"router\":true}},[_c('el-menu-item',{attrs:{\"index\":\"/\"}},[_vm._v(\"什么值得买\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/categories\"}},[_vm._v(\"分类管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/tags\"}},[_vm._v(\"标签管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/products\"}},[_vm._v(\"商品管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/users\"}},[_vm._v(\"用户管理\")])],1),_vm._v(\" \"),_vm._t(\"body\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 584:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _layout = __webpack_require__(578);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _product = __webpack_require__(604);\n\nvar _product2 = _interopRequireDefault(_product);\n\nvar _api = __webpack_require__(136);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    components: {\n        'layout-component': _layout2.default,\n        'form-component': _product2.default\n    },\n    data: function data() {\n        return {\n            cates: [],\n            products: [],\n            page: {\n                limit: 10,\n                total: 0,\n                page: 1,\n                pages: 1\n            },\n            showAddDialog: false,\n            addForm: {\n                name: '',\n                category: '',\n                price: 0,\n                tags: []\n            },\n            showEditDialog: false,\n            editForm: {\n                name: '',\n                category: '',\n                price: 0,\n                tags: []\n            },\n            showRemoveDialog: false,\n            removeForm: {},\n            showDetailsDialog: false,\n            detailsForm: {}\n        };\n    },\n\n    head: {\n        title: {\n            inner: '商品管理'\n        }\n    },\n    methods: {\n        // 获取分类\n        getCates: function getCates() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                var res;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return _api.fetch.get(_api.category.findAll);\n\n                            case 2:\n                                res = _context.sent;\n\n                                _this.cates = res.data.cates;\n\n                            case 4:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this);\n            }))();\n        },\n\n        // 按分页获取商品\n        getProducts: function getProducts() {\n            var _this2 = this;\n\n            var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var res, products;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return _api.fetch.get(_api.product.findByPage(page));\n\n                            case 2:\n                                res = _context2.sent;\n                                products = res.data.products;\n\n                                _this2.products = products.docs;\n                                _this2.page = {\n                                    limit: products.limit,\n                                    total: products.total,\n                                    page: products.page,\n                                    pages: products.pages\n                                };\n\n                            case 6:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, _this2);\n            }))();\n        },\n\n        // 添加商品时，保存其标签到数据库\n        addTag: function addTag(name) {\n            var _this3 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.next = 2;\n                                return _api.fetch.post(_api.tag.add, { name: name });\n\n                            case 2:\n                                return _context3.abrupt('return', _context3.sent);\n\n                            case 3:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, _this3);\n            }))();\n        },\n\n        // 添加商品\n        add: function add(form) {\n            var _this4 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n                var res, type, arr;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return _api.fetch.post(_api.product.add, form);\n\n                            case 2:\n                                res = _context4.sent;\n                                type = res.data.ok ? 'success' : 'error';\n                                // save tags\n\n                                arr = form.tags.map(function (tag) {\n                                    return _this4.addTag(tag);\n                                });\n                                _context4.next = 7;\n                                return Promise.all(arr);\n\n                            case 7:\n                                _context4.next = 9;\n                                return _this4.getProducts();\n\n                            case 9:\n                                _this4.showAddDialog = false;\n                                _this4.addForm = {};\n                                _this4.$message({\n                                    message: res.data.msg,\n                                    type: type\n                                });\n\n                            case 12:\n                            case 'end':\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, _this4);\n            }))();\n        },\n\n        // 编辑商品\n        edit: function edit(form) {\n            var _this5 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var res, type, arr;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                _context5.next = 2;\n                                return _api.fetch.post(_api.product.edit, form);\n\n                            case 2:\n                                res = _context5.sent;\n                                type = res.data.ok ? 'success' : 'error';\n                                // save tags\n\n                                arr = form.tags.map(function (tag) {\n                                    return _this5.addTag(tag);\n                                });\n                                _context5.next = 7;\n                                return Promise.all(arr);\n\n                            case 7:\n                                _context5.next = 9;\n                                return _this5.getProducts();\n\n                            case 9:\n                                _this5.showEditDialog = false;\n                                _this5.showDetailsDialog = false;\n                                _this5.$message({\n                                    message: res.data.msg,\n                                    type: type\n                                });\n\n                            case 12:\n                            case 'end':\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, _this5);\n            }))();\n        },\n\n        // 删除商品\n        remove: function remove() {\n            var _this6 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n                var res, type;\n                return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                _context6.next = 2;\n                                return _api.fetch.post(_api.product.remove, _this6.removeForm);\n\n                            case 2:\n                                res = _context6.sent;\n                                type = res.data.ok ? 'success' : 'error';\n                                _context6.next = 6;\n                                return _this6.getProducts();\n\n                            case 6:\n                                _this6.showRemoveDialog = false;\n                                _this6.$message({\n                                    message: res.data.msg,\n                                    type: type\n                                });\n\n                            case 8:\n                            case 'end':\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, _this6);\n            }))();\n        }\n    },\n    mounted: function mounted() {\n        this.getCates();\n        this.getProducts();\n    }\n};\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _api = __webpack_require__(136);\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    props: {\n        title: String,\n        showDialog: Boolean,\n        cates: Array,\n        model: {\n            name: String,\n            category: String,\n            price: Number,\n            img: String,\n            link: String,\n            tags: Array\n        }\n    },\n    data: function data() {\n        return {\n            formLabelWidth: '120px',\n            newTag: '',\n            tags: [],\n            rules: {\n                name: [{\n                    required: true,\n                    message: '请输入商品名称',\n                    trigger: 'blur'\n                }],\n                category: [{\n                    type: 'object',\n                    required: true,\n                    message: '请选择商品分类',\n                    trigger: 'blur'\n                }],\n                price: [{\n                    type: 'number',\n                    required: true,\n                    message: '请输入商品价格',\n                    trigger: 'blur'\n                }]\n            }\n        };\n    },\n\n    computed: {\n        categories: function categories() {\n            return this.cates;\n        },\n        form: function form() {\n            if (this.model && this.model.tags) {\n                this.tags = [].concat(_toConsumableArray(this.model.tags));\n            }\n            return this.model;\n        }\n    },\n    methods: {\n        // 隐藏对话框\n        hide: function hide() {\n            this.$emit('hide');\n        },\n\n        // 验证表单\n        validate: function validate() {\n            var _this = this;\n\n            return new Promise(function (resolve, reject) {\n                _this.$refs['form'].validate(function (valid) {\n                    if (valid) {\n                        resolve(true);\n                    } else {\n                        reject(false);\n                    }\n                });\n            });\n        },\n\n        // 确认添加/编辑商品\n        confirm: function confirm() {\n            var _this2 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                var res;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return _this2.validate();\n\n                            case 2:\n                                res = _context.sent;\n\n                                if (res) {\n                                    _this2.form.tags = _this2.tags;\n                                    _this2.$emit('confirm', _this2.form);\n                                    _this2.tags = [];\n                                }\n\n                            case 4:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }))();\n        },\n\n        // 添加标签\n        addTag: function addTag() {\n            if (this.newTag.length) {\n                this.tags.push(this.newTag);\n                this.newTag = '';\n            }\n        },\n\n        // 删除标签\n        removeTag: function removeTag(index) {\n            this.tags.splice(index, 1);\n        }\n    }\n};\n\n/***/ }),\n\n/***/ 602:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(603);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(524)(\"18033677\", content, true, {});\n\n/***/ }),\n\n/***/ 603:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(202)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".add-btn[data-v-37e83c65]{margin:10px}.tag[data-v-37e83c65]{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 604:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__ = __webpack_require__(585);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22712534_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__ = __webpack_require__(607);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(605)\n}\nvar normalizeComponent = __webpack_require__(135)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22712534\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22712534_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 605:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(606);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(524)(\"ee86d376\", content, true, {});\n\n/***/ }),\n\n/***/ 606:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(202)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tag[data-v-22712534]{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 607:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.showDialog,\"before-close\":_vm.hide},on:{\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"label-width\":_vm.formLabelWidth,\"prop\":\"category\"}},[_c('el-select',{attrs:{\"value-key\":\"_id\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}},_vm._l((_vm.categories),function(cate){return _c('el-option',{key:cate._id,attrs:{\"label\":cate.name,\"value\":cate}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"label-width\":_vm.formLabelWidth,\"prop\":\"price\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", _vm._n($$v))},expression:\"form.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.img),callback:function ($$v) {_vm.$set(_vm.form, \"img\", _vm._n($$v))},expression:\"form.img\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品链接\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", _vm._n($$v))},expression:\"form.link\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标签\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addTag($event)}},model:{value:(_vm.newTag),callback:function ($$v) {_vm.newTag=$$v},expression:\"newTag\"}}),_vm._v(\" \"),_vm._l((_vm.tags),function(tag,index){return _c('el-tag',{key:tag,staticClass:\"tag\",attrs:{\"closable\":true,\"type\":\"primary\"},on:{\"close\":function($event){_vm.removeTag(index)}}},[_vm._v(_vm._s(tag))])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.hide}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 608:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout-component',[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('el-button',{staticClass:\"add-btn\",attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":function($event){_vm.showAddDialog = true}}},[_vm._v(\"添加商品\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.products}},[_c('el-table-column',{attrs:{\"label\":\"图片\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.img}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"category.name\",\"label\":\"分类\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格(￥)\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"链接\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_c('a',{staticStyle:{\"color\":\"#fff\"},attrs:{\"href\":scope.row.link,\"target\":\"_blank\"}},[_vm._v(\"链接\")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"标签\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.tags),function(tag){return _c('el-tag',{key:tag,staticClass:\"tag\",attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(tag))])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"prettyCreatedAt\",\"label\":\"添加时间\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showEditDialog = true; _vm.editForm = scope.row}}},[_vm._v(\"\\n                        编辑\\n                    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showDetailsDialog = true; _vm.detailsForm = scope.row}}},[_vm._v(\"\\n                        编辑详情\\n                    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showRemoveDialog = true; _vm.removeForm = scope.row}}},[_vm._v(\"\\n                        删除\\n                    \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.page.limit,\"total\":_vm.page.total,\"current-page\":_vm.page.page},on:{\"current-change\":_vm.getProducts}}),_vm._v(\" \"),_c('form-component',{attrs:{\"title\":\"添加商品\",\"cates\":_vm.cates,\"showDialog\":_vm.showAddDialog,\"model\":_vm.addForm},on:{\"confirm\":_vm.add,\"hide\":function($event){_vm.showAddDialog = false}}}),_vm._v(\" \"),_c('form-component',{attrs:{\"title\":\"编辑商品\",\"cates\":_vm.cates,\"showDialog\":_vm.showEditDialog,\"model\":_vm.editForm},on:{\"confirm\":_vm.edit,\"hide\":function($event){_vm.showEditDialog = false}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑商品详情\",\"visible\":_vm.showDetailsDialog},on:{\"update:visible\":function($event){_vm.showDetailsDialog=$event}}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":20,\"placeholder\":\"请输入商品详情，支持 markdown 语法格式\"},model:{value:(_vm.detailsForm.details),callback:function ($$v) {_vm.$set(_vm.detailsForm, \"details\", $$v)},expression:\"detailsForm.details\"}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showDetailsDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.edit(_vm.detailsForm)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"删除商品\",\"visible\":_vm.showRemoveDialog},on:{\"update:visible\":function($event){_vm.showRemoveDialog=$event}}},[_c('el-alert',{attrs:{\"title\":'确定删除商品：' + _vm.removeForm.name + '？',\"type\":\"error\",\"closable\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showRemoveDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.remove}},[_vm._v(\"确 定\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 6.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37e83c65\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37e83c65\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37e83c65\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/pages/admin/product.vue\n// module id = 527\n// module chunks = 6","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68e1c824\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/components/admin/layout.vue\n// module id = 578\n// module chunks = 6 7 8","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"theme\":\"dark\",\"default-active\":_vm.$route.path,\"mode\":\"horizontal\",\"router\":true}},[_c('el-menu-item',{attrs:{\"index\":\"/\"}},[_vm._v(\"什么值得买\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/categories\"}},[_vm._v(\"分类管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/tags\"}},[_vm._v(\"标签管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/products\"}},[_vm._v(\"商品管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/admin/users\"}},[_vm._v(\"用户管理\")])],1),_vm._v(\" \"),_vm._t(\"body\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-68e1c824\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/client/components/admin/layout.vue\n// module id = 579\n// module chunks = 6 7 8","<template>\r\n    <layout-component>\r\n        <div slot=\"body\">\r\n            <el-button class=\"add-btn\" type=\"primary\" icon=\"plus\" @click=\"showAddDialog = true\">添加商品</el-button>\r\n            <el-table :data=\"products\" style=\"width: 100%\">\r\n                <el-table-column label=\"图片\" width=\"150px\">\r\n                    <template scope=\"scope\">\r\n                        <img :src=\"scope.row.img\" style=\"width:100px; height:100px;\">\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"name\" label=\"名称\" width=\"150\"></el-table-column>\r\n                <el-table-column prop=\"category.name\" label=\"分类\" width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"price\" label=\"价格(￥)\" width=\"100\"></el-table-column>\r\n                <el-table-column label=\"链接\" width=\"100px\">\r\n                    <template scope=\"scope\">\r\n                        <el-button type=\"primary\" size=\"small\">\r\n                            <a :href=\"scope.row.link\" target=\"_blank\" style=\"color:#fff;\">链接</a>\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"标签\" width=\"150px\">\r\n                    <template scope=\"scope\">\r\n                        <el-tag v-for=\"tag in scope.row.tags\"\r\n                            class=\"tag\"\r\n                            :key=\"tag\"\r\n                            type=\"primary\"\r\n                            >{{ tag }}</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"prettyCreatedAt\" label=\"添加时间\" width=\"150\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                    <template scope=\"scope\">\r\n                        <el-button type=\"primary\" @click=\"showEditDialog = true; editForm = scope.row\" size=\"small\">\r\n                            编辑\r\n                        </el-button>\r\n                        <el-button type=\"primary\" @click=\"showDetailsDialog = true; detailsForm = scope.row\" size=\"small\">\r\n                            编辑详情\r\n                        </el-button>\r\n                        <el-button type=\"danger\" @click=\"showRemoveDialog = true; removeForm = scope.row\" size=\"small\">\r\n                            删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                layout=\"prev, pager, next\"\r\n                :page-size=\"page.limit\"\r\n                :total=\"page.total\"\r\n                :current-page=\"page.page\"\r\n                @current-change=\"getProducts\"\r\n                >\r\n            </el-pagination>\r\n            <form-component title=\"添加商品\"\r\n                :cates=\"cates\"\r\n                :showDialog=\"showAddDialog\"\r\n                :model=\"addForm\"\r\n                @confirm=\"add\"\r\n                @hide=\"showAddDialog = false\">\r\n            </form-component>\r\n            <form-component title=\"编辑商品\"\r\n                :cates=\"cates\"\r\n                :showDialog=\"showEditDialog\"\r\n                :model=\"editForm\"\r\n                @confirm=\"edit\"\r\n                @hide=\"showEditDialog = false\">\r\n            </form-component>\r\n            <!-- 编辑商品详情的表单组件 -->\r\n            <el-dialog title=\"编辑商品详情\" :visible.sync=\"showDetailsDialog\">\r\n                <el-input\r\n                    type=\"textarea\"\r\n                    :rows=\"20\"\r\n                    placeholder=\"请输入商品详情，支持 markdown 语法格式\"\r\n                    v-model=\"detailsForm.details\">\r\n                </el-input>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"showDetailsDialog = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"edit(detailsForm)\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n            <!-- 删除商品的表单组件 -->\r\n            <el-dialog title=\"删除商品\" :visible.sync=\"showRemoveDialog\">\r\n                <el-alert\r\n                    :title=\"'确定删除商品：' + removeForm.name + '？'\"\r\n                    type=\"error\"\r\n                    :closable=\"false\">\r\n                </el-alert>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"showRemoveDialog = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"remove\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </div>\r\n    </layout-component>\r\n</template>\r\n\r\n<script>\r\nimport layout from '../../components/admin/layout.vue'\r\nimport form from './forms/product.vue'\r\nimport { fetch, category, product, tag } from '../../api'\r\n\r\nexport default {\r\n    components: {\r\n        'layout-component': layout,\r\n        'form-component': form,\r\n    },\r\n    data() {\r\n        return {\r\n            cates: [],\r\n            products: [],\r\n            page: {\r\n                limit: 10,\r\n                total: 0,\r\n                page: 1,\r\n                pages: 1,\r\n            },\r\n            showAddDialog: false,\r\n            addForm: {\r\n                name: '',\r\n                category: '',\r\n                price: 0,\r\n                tags: [],\r\n            },\r\n            showEditDialog: false,\r\n            editForm: {\r\n                name: '',\r\n                category: '',\r\n                price: 0,\r\n                tags: [],\r\n            },\r\n            showRemoveDialog: false,\r\n            removeForm: {},\r\n            showDetailsDialog: false,\r\n            detailsForm: {},\r\n        }\r\n    },\r\n    head: {\r\n        title: {\r\n            inner: '商品管理'\r\n        }\r\n    },\r\n    methods: {\r\n        // 获取分类\r\n        async getCates() {\r\n            let res = await fetch.get(category.findAll)\r\n            this.cates = res.data.cates\r\n        },\r\n        // 按分页获取商品\r\n        async getProducts(page = 1) {\r\n            let res = await fetch.get(product.findByPage(page))\r\n            let products = res.data.products\r\n            this.products = products.docs\r\n            this.page = {\r\n                limit: products.limit,\r\n                total: products.total,\r\n                page: products.page,\r\n                pages: products.pages,\r\n            }\r\n        },\r\n        // 添加商品时，保存其标签到数据库\r\n        async addTag(name) {\r\n            return await fetch.post(tag.add, { name })\r\n        },\r\n        // 添加商品\r\n        async add(form) {\r\n            let res = await fetch.post(product.add, form)\r\n            let type = res.data.ok ? 'success' : 'error'\r\n            // save tags\r\n            let arr = form.tags.map(tag => this.addTag(tag))\r\n            await Promise.all(arr)\r\n            await this.getProducts()\r\n            this.showAddDialog = false\r\n            this.addForm = {}\r\n            this.$message({\r\n                message: res.data.msg,\r\n                type\r\n            })\r\n        },\r\n        // 编辑商品\r\n        async edit(form) {\r\n            let res = await fetch.post(product.edit, form)\r\n            let type = res.data.ok ? 'success' : 'error'\r\n            // save tags\r\n            let arr = form.tags.map(tag => this.addTag(tag))\r\n            await Promise.all(arr)\r\n            await this.getProducts()\r\n            this.showEditDialog = false\r\n            this.showDetailsDialog = false\r\n            this.$message({\r\n                message: res.data.msg,\r\n                type\r\n            })\r\n        },\r\n        // 删除商品\r\n        async remove() {\r\n            let res = await fetch.post(product.remove, this.removeForm)\r\n            let type = res.data.ok ? 'success' : 'error'\r\n            await this.getProducts()\r\n            this.showRemoveDialog = false\r\n            this.$message({\r\n                message: res.data.msg,\r\n                type\r\n            })\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getCates()\r\n        this.getProducts()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.add-btn {\r\n    margin: 10px;\r\n}\r\n.tag {\r\n    margin-right: 10px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/client/pages/admin/product.vue","<template>\r\n    <el-dialog :title=\"title\" :visible.sync=\"showDialog\" :before-close=\"hide\">\r\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\r\n            <el-form-item label=\"商品名称\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n                <el-input v-model=\"form.name\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" :label-width=\"formLabelWidth\" prop=\"category\">\r\n                <el-select v-model=\"form.category\" value-key=\"_id\">\r\n                    <!-- 循环渲染所有分类 -->\r\n                    <el-option\r\n                        v-for=\"cate in categories\"\r\n                        :key=\"cate._id\"\r\n                        :label=\"cate.name\"\r\n                        :value=\"cate\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" :label-width=\"formLabelWidth\" prop=\"price\">\r\n                <el-input v-model.number=\"form.price\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品图片\" :label-width=\"formLabelWidth\">\r\n                <el-input v-model.number=\"form.img\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品链接\" :label-width=\"formLabelWidth\">\r\n                <el-input v-model.number=\"form.link\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <!-- 通过 addTag 方法添加新标签 -->\r\n            <el-form-item label=\"标签\" :label-width=\"formLabelWidth\">\r\n                <el-input v-model=\"newTag\" auto-complete=\"off\" @keyup.enter.native=\"addTag\"></el-input>\r\n                <el-tag\r\n                    v-for=\"(tag, index) in tags\"\r\n                    class=\"tag\"\r\n                    :key=\"tag\"\r\n                    :closable=\"true\"\r\n                    type=\"primary\"\r\n                    @close=\"removeTag(index)\">{{ tag }}</el-tag>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"hide\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { fetch, category } from '../../../api'\r\n\r\nexport default {\r\n    props: {\r\n        title: String,\r\n        showDialog: Boolean,\r\n        cates: Array,\r\n        model: {\r\n            name: String,\r\n            category: String,\r\n            price: Number,\r\n            img: String,\r\n            link: String,\r\n            tags: Array,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            formLabelWidth: '120px',\r\n            newTag: '',\r\n            tags: [],\r\n            rules: {\r\n                name: [{\r\n                    required: true,\r\n                    message: '请输入商品名称',\r\n                    trigger: 'blur'\r\n                }],\r\n                category: [{\r\n                    type: 'object',\r\n                    required: true,\r\n                    message: '请选择商品分类',\r\n                    trigger: 'blur'\r\n                }],\r\n                price: [{\r\n                    type: 'number',\r\n                    required: true,\r\n                    message: '请输入商品价格',\r\n                    trigger: 'blur'\r\n                }]\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        categories() {\r\n            return this.cates\r\n        },\r\n        form() {\r\n            if (this.model && this.model.tags) {\r\n                this.tags = [...this.model.tags]\r\n            }\r\n            return this.model\r\n        }\r\n    },\r\n    methods: {\r\n        // 隐藏对话框\r\n        hide() {\r\n            this.$emit('hide')\r\n        },\r\n        // 验证表单\r\n        validate() {\r\n            return new Promise((resolve, reject) => {\r\n                this.$refs['form'].validate(valid => {\r\n                    if (valid) {\r\n                        resolve(true)\r\n                    } else {\r\n                        reject(false)\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        // 确认添加/编辑商品\r\n        async confirm() {\r\n            let res = await this.validate()\r\n            if (res) {\r\n                this.form.tags = this.tags\r\n                this.$emit('confirm', this.form)\r\n                this.tags = []\r\n            }\r\n        },\r\n        // 添加标签\r\n        addTag() {\r\n            if (this.newTag.length) {\r\n                this.tags.push(this.newTag)\r\n                this.newTag = ''\r\n            }\r\n        },\r\n        // 删除标签\r\n        removeTag(index) {\r\n            this.tags.splice(index, 1)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tag {\r\n    margin-right: 10px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/client/pages/admin/forms/product.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?minimize!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37e83c65\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./product.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"18033677\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-37e83c65\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/client/pages/admin/product.vue\n// module id = 602\n// module chunks = 6","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".add-btn[data-v-37e83c65]{margin:10px}.tag[data-v-37e83c65]{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-37e83c65\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/client/pages/admin/product.vue\n// module id = 603\n// module chunks = 6","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22712534\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22712534\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22712534\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/pages/admin/forms/product.vue\n// module id = 604\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22712534\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./product.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ee86d376\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-22712534\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/client/pages/admin/forms/product.vue\n// module id = 605\n// module chunks = 6","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tag[data-v-22712534]{margin-right:10px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-22712534\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/client/pages/admin/forms/product.vue\n// module id = 606\n// module chunks = 6","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.showDialog,\"before-close\":_vm.hide},on:{\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"label-width\":_vm.formLabelWidth,\"prop\":\"category\"}},[_c('el-select',{attrs:{\"value-key\":\"_id\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}},_vm._l((_vm.categories),function(cate){return _c('el-option',{key:cate._id,attrs:{\"label\":cate.name,\"value\":cate}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"label-width\":_vm.formLabelWidth,\"prop\":\"price\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", _vm._n($$v))},expression:\"form.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.img),callback:function ($$v) {_vm.$set(_vm.form, \"img\", _vm._n($$v))},expression:\"form.img\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品链接\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", _vm._n($$v))},expression:\"form.link\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标签\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addTag($event)}},model:{value:(_vm.newTag),callback:function ($$v) {_vm.newTag=$$v},expression:\"newTag\"}}),_vm._v(\" \"),_vm._l((_vm.tags),function(tag,index){return _c('el-tag',{key:tag,staticClass:\"tag\",attrs:{\"closable\":true,\"type\":\"primary\"},on:{\"close\":function($event){_vm.removeTag(index)}}},[_vm._v(_vm._s(tag))])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.hide}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22712534\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/client/pages/admin/forms/product.vue\n// module id = 607\n// module chunks = 6","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout-component',[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('el-button',{staticClass:\"add-btn\",attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":function($event){_vm.showAddDialog = true}}},[_vm._v(\"添加商品\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.products}},[_c('el-table-column',{attrs:{\"label\":\"图片\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.img}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"category.name\",\"label\":\"分类\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格(￥)\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"链接\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_c('a',{staticStyle:{\"color\":\"#fff\"},attrs:{\"href\":scope.row.link,\"target\":\"_blank\"}},[_vm._v(\"链接\")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"标签\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.tags),function(tag){return _c('el-tag',{key:tag,staticClass:\"tag\",attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(tag))])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"prettyCreatedAt\",\"label\":\"添加时间\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showEditDialog = true; _vm.editForm = scope.row}}},[_vm._v(\"\\n                        编辑\\n                    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showDetailsDialog = true; _vm.detailsForm = scope.row}}},[_vm._v(\"\\n                        编辑详情\\n                    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showRemoveDialog = true; _vm.removeForm = scope.row}}},[_vm._v(\"\\n                        删除\\n                    \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.page.limit,\"total\":_vm.page.total,\"current-page\":_vm.page.page},on:{\"current-change\":_vm.getProducts}}),_vm._v(\" \"),_c('form-component',{attrs:{\"title\":\"添加商品\",\"cates\":_vm.cates,\"showDialog\":_vm.showAddDialog,\"model\":_vm.addForm},on:{\"confirm\":_vm.add,\"hide\":function($event){_vm.showAddDialog = false}}}),_vm._v(\" \"),_c('form-component',{attrs:{\"title\":\"编辑商品\",\"cates\":_vm.cates,\"showDialog\":_vm.showEditDialog,\"model\":_vm.editForm},on:{\"confirm\":_vm.edit,\"hide\":function($event){_vm.showEditDialog = false}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑商品详情\",\"visible\":_vm.showDetailsDialog},on:{\"update:visible\":function($event){_vm.showDetailsDialog=$event}}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":20,\"placeholder\":\"请输入商品详情，支持 markdown 语法格式\"},model:{value:(_vm.detailsForm.details),callback:function ($$v) {_vm.$set(_vm.detailsForm, \"details\", $$v)},expression:\"detailsForm.details\"}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showDetailsDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.edit(_vm.detailsForm)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"删除商品\",\"visible\":_vm.showRemoveDialog},on:{\"update:visible\":function($event){_vm.showRemoveDialog=$event}}},[_c('el-alert',{attrs:{\"title\":'确定删除商品：' + _vm.removeForm.name + '？',\"type\":\"error\",\"closable\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showRemoveDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.remove}},[_vm._v(\"确 定\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37e83c65\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/client/pages/admin/product.vue\n// module id = 608\n// module chunks = 6"],"sourceRoot":""}